{%- style -%}
    {%- if section.blocks.size == 1 -%}
            .col{
                grid-template-columns: 1f;
            }
        {%- elsif section.blocks.size == 2 -%}
            .col{
                grid-template-columns: 1fr 1fr;
            }
        {%- elsif section.blocks.size == 3 -%}
            .col{
                grid-template-columns: 28% 40% 28%;
            }
    {%- endif -%}
    {%- for block in section.blocks -%}
        {%- if block.type == "image" -%}
            #block__{{block.id}}{
                background-color: {{block.settings.background_color_img}};
            }
        {%-  elsif block.type== "main_content" -%}
            #content__block{{block.id}} .img_1{
                background-color: {{ block.settings.image_1_bg_color }}
            }
            #content__block{{block.id}} .img_2{
                background-color: {{ block.settings.image_2_bg_color }}
            }
        {%- endif -%}
    {%- endfor -%}
{%- endstyle -%}

<style>
 
    .container{
        width:100vw;
        padding: 20px 0;
        height: 90svh
    }
    .col{
        width: 85%;
        margin: 0 auto;
        display: grid;
        grid-template-rows: 100%;
        gap: 10px;
        height:100%
    }
    .item{
        /* background-color: #E0E0E0; */
        border-radius:10px;
        overflow: hidden;
    }
    .item-img{
        display: flex;
        align-items:end;

    }
    .item-img svg{
        height:100%;
    }
    .item-img img{
        height: 70%;
    }
    .item_2{
        background-color: white;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        align-items: center;
        gap:10px
    }
    .item_2_images{
        height: 150px;
        max-width: 426px;
        width: 100%;
        display: flex;
        overflow: hidden;
        align-items: end;
    }

    img{
        object-fit: cover;
    }
    .item_2_content{
        width: 100%;
        background-color: #fff;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }
    .item_2_images{
        border-radius: 10px;
    }
    .item_2_content > *{
        margin: 0;
        text-align: center;
    }
    .highlight > *{
        font-size: clamp(30px, 6vw, 60px);
        line-height: 100%;
        letter-spacing: -4px;
        margin: 0;
        text-align: center;
    }
    .strong > *{
        margin: 0;
        font-size: clamp(50px, 10vw, 100px);
        line-height: 100%;
        letter-spacing: -4px;
        font-weight: bold;
        -webkit-text-fill-color: #ffffff;
        -webkit-text-stroke: 1px black;
        text-align: center;
    }
    .para > * {
        margin: 0 ;
        font-size: clamp(12px, 5vw, 20px);
        letter-spacing: 10px;
        text-align: center;
    }
    .item_2_content a{
        text-decoration: none;
        color: white;
        background: black;
        width: 207px;
        height: 56px;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 10px;
        margin: 10px auto
     }
    @media screen and (min-width: 1920px) {
        .col{
            width: 60%
        }
        .strong > *{
           font-size: 91px
        }
        .highlight > *{
            font-size: 187px;
        }
        .para > *{
            font-size: 20px;
        }
    }
    @media screen and (max-width: 768px){
        .container{
            min-height: 80svh;
            height: auto;
        }
        .col{
            grid-template-columns: 1fr;
            grid-template-rows: 150px auto 150px;
        }
        .item-img{
            align-items: start;
        }
        .item-img img{
            height: 100%;
        }
        .item{
            width: 100%;
        }
        .strong > *{
           font-size: 120px;
        }
        .highlight > *{
            font-size: 80px;
        }
    }
</style>

<div class="container" id="section_{{section.id}}">
    <div class="col">
        {%- for block in section.blocks -%}

           {%- if block.type == 'image' -%}
                
                <div class="item item-img" id="block__{{block.id}}">
                    {% if block.settings.image != blank %}
                     <img src={{block.settings.image | image_url}}  width="100%" height="100%">    
                    {% else %}
                    {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
                    {% endif %}
                   
                </div>   
            {%- elsif block.type == 'main_content' -%}         
                <div class="item item_2" id="content__block{{block.id}}">
                    <div class="item_2_images img_1">
                        {% if block.settings.image_1 != blank %}
                            <img src={{block.settings.image_1 |  image_url }} alt="fasco hero" width="100%" height="100%">
                        {% else %}
                         {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
                        {% endif %}
                        
                    </div>
                    <div class="item_2_content">
                            <span class="highlight">
                               {{block.settings.title}}
                            </span>
                            <span class='strong'>
                                {{block.settings.subtitle}}
                            </span>
                        <span class="para">
                           {{block.settings.paragraph}}
                        </span>
                        <a href={{block.settings.button_url}} >
                            {{block.settings.button_text}}
                        </a>                
                    </div>
                    <div class="item_2_images img_2">
                        {% if block.settings.image_2 != blank %}
                             <img src={{block.settings.image_2 | image_url}} alt="fasco hero" width="100%" height="100%"> 
                          {% else %}
                             {{ 'hero-apparel-1' | placeholder_svg_tag: 'placeholder-svg' }}
                        {% endif %}
                       
                    </div>
        
                </div>
           {% endif %}
        {%- endfor -%}
    </div>
</div>



<script>
    document.addEventListener('DOMContentLoaded', () => {
    gsap.registerPlugin(SplitText);
    let tl = gsap.timeline();
    const images = gsap.utils.toArray(' #section_{{section.id}} .item img');
    const highlight = document.querySelector(' #section_{{section.id}} .item_2_content')
    console.log('highlight', highlight)

    let mySplitHighlight = new SplitText(highlight, {type:'lines'})
    console.log("mysplithighlight", mySplitHighlight)
    // text Animation
    tl.from(mySplitHighlight.lines, {opacity: 0, y: 50, stagger: 0.05, ease: "back.out(1.7)", duration: 2}, 1.2)

    //  images Animation
    images.forEach((image, i) => {
        tl.from(image, { opacity: 0, x: "100%", ease: "back.out(1.7)", duration:1 }, i * 0.4 )
    });
    });
   
</script>



{% schema %}
    {
        "name": "Fasco Hero Section",
        "settings": [
        
        
            ],
            "blocks": [
                {
                    "type": "image",
                    "name": "image",
                    "limit": 2,
                    "settings": [
                        {
                            "type": "image_picker",
                            "id": "image",
                            "label": "Image"
                        },
                        {
                            "type": "richtext",
                            "id": "image_alt",
                            "label": "Image Alt"
                        },
                        {
                            "type": "color_background",
                            "id": "background_color_img",
                            "label": "Background Color",
                            "default": "rgb(0,0,0)"
                        }
                    ]

                },
                {
                    "type": "main_content",
                    "name": "Main Content",
                    "limit": 1,
                    "settings": [
                        {
                            "type": "image_picker",
                            "id": "image_1",
                            "label": "Image 1"
                        },
                        {
                            "type": "color_background",
                            "id": "image_1_bg_color",
                            "label": "Image 1 BackgroundColor",
                            "default": "rgb(255,255,255)"
                        },
                        {
                            "type": "image_picker",
                            "id": "image_2",
                            "label": "Image 2"
                        },
                        {
                            "type": "color_background",
                            "id": "image_2_bg_color",
                            "label": "Image 2 BackgroundColor",
                            "default": "rgb(255, 255, 255)"
                        },
                        {
                            "type": "richtext",
                            "id": "title",
                            "label": "Title"
                        },
                        {
                            "type": "richtext",
                            "id": "subtitle",
                            "label": "Subtitle"
                        },
                        {
                            "type": "richtext",
                            "id": "paragraph",
                            "label": "Paragraph"
                        },
                        {
                            "type": "color_background",
                            "id": "background_color_content",
                            "label": "Background Color",
                            "default": "rgb(0,0,0)"
                        },
                        {
                            "type": "color",
                            "id": "color_content",
                            "label": "Texts Color",
                            "default": "#ffffff"
                        },
                        {
                            "type": "text",
                            "id": "button_text",
                            "label": "Text Button"
                        },
                        {
                            "type": "url",
                            "id": "button_url",
                            "label": "Button Url"
                        },
                        {
                            "type": "color_background",
                            "id": "button_background",
                            "label": "Button Background Color",
                            "default": "rgb(0,0,0)"
                        },
                        {
                            "type": "color",
                            "id": "button_color",
                            "label": "Button Text Color",
                            "default": "#ffffff"
                        }
                    ]

                }
            ],
            "presets": [
                {
                    "name": "Fasco Hero Section",
                    "blocks": [
                        {
                            "type": "image"
                        },
                        {
                            "type": "main_content",
                            "settings": {
                                "title":"<h2>ULTIMATE</h2>",
                                "subtitle":"<h2>SALE</h2>",
                                "paragraph":"<p>NEW COLLECTION</p>",
                                "button_text":"Button",
                                "button_url":"https://google.com",
                                
                            }
                        },
                        {
                            "type": "image"
                        }
                    ]
                }
            ]
    }
{% endschema %}